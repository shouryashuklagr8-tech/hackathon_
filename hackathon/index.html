<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Campus Solution</title>
<style>
    body {
        background-color: #111;
        margin: 0;
        overflow: hidden;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        color: white;
    }
    #menu {
        background-color: #1a1a1a;
        height: 70px;
        padding: 0 30px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 2px solid #3e1cb9;
        box-shadow: 0 4px 15px rgba(0,0,0,0.5);
        position: relative;
        z-index: 1000;
        box-sizing: border-box;
    }
    .logo {
        font-size: 20px;
        font-weight: 800;
        color: #fff;
        letter-spacing: 1px;
        text-transform: uppercase;
    }
    .logo span {
        color: #3e1cb9;
    }
    nav {
        display: flex;
        gap: 12px;
    }
    .menu_button {
        background: #252525;
        color: #efefef;
        border: 1px solid #333;
        padding: 10px 20px;
        font-size: 13px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        border-radius: 6px;
        text-transform: uppercase;
    }
    .menu_button:hover {
        background-color: #3e1cb9;
        border-color: #3e1cb9;
        color: white;
        transform: translateY(-2px);
    }
    #container {
        display: flex;
        height: calc(100vh - 70px);
        width: 100%;
    }
    #Map {
        position: relative;
        flex: 1;
        background-color: #000;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
    }
    #map_image {
        width: 100%;
        height: 100%;
        object-fit: contain;
    }
    #map_svg {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: auto;
    }
    polygon {
        cursor: pointer;
        transition: 0.2s;
        stroke-width: 2;
        fill-opacity: 0;
        fill: #3e1cb9;
    }
    polygon:hover {
        stroke: white;
        stroke-width: 4;
        fill-opacity: 0.3;
    }
    #info_navigation_container {
        background: #181818;
        box-shadow: -5px 0 20px rgba(0,0,0,0.4);
        padding: 25px;
        display: flex;
        flex-direction: column;
        width: 350px;
        height: 100%;
        box-sizing: border-box;
    }
    #info_container {
        flex: 1;
        overflow-y: auto;
        margin-bottom: 20px;
        border-bottom: 1px solid #333;
    }
    #navigation_container h1 {
        font-size: 1.2em;
        margin-top: 0;
        color: #3e1cb9;
    }
    label {
        display: block;
        font-size: 0.8em;
        color: #888;
        margin-bottom: 5px;
        text-transform: uppercase;
        font-weight: bold;
    }
    select {
        width: 100%;
        padding: 12px;
        background: #252525;
        color: white;
        border: 1px solid #444;
        border-radius: 6px;
        margin-bottom: 15px;
        outline: none;
    }
    #navigate {
        width: 100%;
        padding: 15px;
        color: white;
        background-color: #3e1cb9;
        border: none;
        border-radius: 6px;
        font-weight: bold;
        cursor: pointer;
        transition: 0.3s;
        text-transform: uppercase;
        letter-spacing: 1px;
    }
    #navigate:hover {
        background-color: #522ad3;
        box-shadow: 0 4px 15px rgba(62, 28, 185, 0.4);
    }
   .req_button {
    transition: all 0.3s ease;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.req_button:hover {
    background-color: #522ad3 !important; 
    transform: translateY(-3px); 
    box-shadow: 0 6px 20px rgba(62, 28, 185, 0.5) !important; 
}

.req_button:active {
    transform: translateY(-1px); 
}
    .display
    {
        top: 0;left: 0;height: 100%;width: 100%;position: fixed;
        background: rgba(0, 0, 0, 0.4);
    backdrop-filter: blur(4px); 
    display: flex;
    justify-content: center;
    align-items: center;
    transition: all 0.3s ease-in-out;
    z-index: 1000;
    }
    .hide_modal
    {
        display: none;
    }
     .hide
    {
        display: none !important;
    }
    #CabPool {
    /* Subtract the 70px menu height from the full screen */
    height: calc(100vh - 70px); 
    display: flex;
    flex-direction: column;
    overflow: hidden; /* Prevents the whole section from moving */
}

#cabpool_page {
    flex: 1; /* Takes up all remaining space below the header */
    overflow-y: auto; /* Enables the scrollbar only for the posts */
    padding: 20px;
    box-sizing: border-box;
}
#homepage {
    height: calc(100vh - 70px);
    overflow-y: auto;
    padding: 40px 20px;
    box-sizing: border-box;
}

.home-hero {
    text-align: center;
    margin-bottom: 50px;
}

.home-hero h1 {
    font-size: 3rem;
    margin: 0;
    letter-spacing: -1px;
}

.home-hero h1 span {
    color: #3e1cb9;
}

.home-hero p {
    color: #888;
    font-size: 1.1rem;
}

.home-content-grid {
    max-width: 1000px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}

.home-card {
    background: #1a1a1a;
    border: 1px solid #333;
    padding: 25px;
    border-radius: 16px;
    transition: 0.3s ease;
}

.home-card:hover {
    border-color: #3e1cb9;
    background: #1f1f1f;
}

.home-card.wide {
    grid-column: span 2;
}

.home-card h2, .home-card h3 {
    margin-top: 0;
    color: #3e1cb9;
}

.home-card p {
    color: #ccc;
    line-height: 1.6;
}

.home-card ul {
    padding-left: 20px;
    color: #bbb;
}

.home-card ul li {
    margin-bottom: 8px;
}

.card-icon {
    font-size: 2rem;
    margin-bottom: 10px;
}

.secondary {
    background: transparent;
    border-style: dashed;
    text-align: center;
}
#uniform_store {
    /* Fill the space below the 70px header */
    height: calc(100vh - 70px); 
    width: 100%;

    overflow-y: auto; 

    padding: 40px;
    box-sizing: border-box;
    background-color: #111;
    color: white;
}
#uniform_store img {
    max-width: 100%;
    border-radius: 12px;
}
#uniform_store {
    height: calc(100vh - 70px); /* Fill remaining screen */
    overflow-y: auto;           /* Allow internal scrolling */
    background-color: #111;
    padding: 40px;
    box-sizing: border-box;
}

.store-content {
    max-width: 1000px;
    margin: 0 auto;
}

.store-header {
    font-size: 24px;
    font-weight: bold;
    color: #3e1cb9;
    margin-bottom: 20px;
}

/* Align images in a row */
.image-row {
    display: flex;
    gap: 20px;
    margin-bottom: 30px;
    justify-content: center;
}

.gallery-img {
    width: 30%;
    height: 200px;
    object-fit: cover;
    border-radius: 12px;
    border: 1px solid #333;
}

/* Align List and Image side-by-side */
.why-us-container {
    display: flex;
    align-items: center;
    gap: 40px;
    background: #1a1a1a;
    padding: 20px;
    border-radius: 15px;
}

.why-text {
    flex: 2;
}

.why-image {
    flex: 1;
    text-align: center;
}

#uniform_store h2 {
    color: #3e1cb9;
    border-bottom: 1px solid #333;
    padding-bottom: 10px;
}

#uniform_store ul li {
    margin-bottom: 15px;
    line-height: 1.6;
}
/* Container fix for scrolling */
#uniform_store {
    height: calc(100vh - 70px);
    overflow-y: auto;
    padding: 50px 10%;
    background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
    box-sizing: border-box;
}

/* Glassmorphism Header */
#uniform_store header {
    font-size: 2.5rem;
    font-weight: 800;
    color: #3e1cb9;
    text-shadow: 0 0 15px rgba(62, 28, 185, 0.4);
    margin-bottom: 30px;
}

/* Image Row Popper */
.image-row-container {
    display: flex; 
    justify-content: center;
    gap: 20px;
    margin-bottom: 50px;
}

.image-row-container img {
    width: 250px;
    height: 180px;
    object-fit: cover;
    border-radius: 20px;
    border: 2px solid #333;
    transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    animation: float 4s ease-in-out infinite;
}

.image-row-container img:hover {
    transform: scale(1.1) rotate(3deg);
    border-color: #3e1cb9;
}

/* Floating Animation */
@keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-15px); }
}

/* Why Us Flex Alignment */
.why-us-container {
    display: flex;
    align-items: center;
    gap: 40px;
    background: rgba(255, 255, 255, 0.03);
    padding: 30px;
    border-radius: 25px;
    border: 1px solid rgba(255,255,255,0.1);
    backdrop-filter: blur(10px);
}

.why-text ul li {
    list-style: none;
    margin-bottom: 20px;
    padding: 15px;
    background: rgba(62, 28, 185, 0.1);
    border-radius: 12px;
    border-left: 5px solid #3e1cb9;
    transition: 0.3s;
}

.why-text ul li:hover {
    transform: translateX(10px);
    background: rgba(62, 28, 185, 0.2);
}

[data-aos] {
    transition-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1.275) !important;
}
#uniform_store img {
    transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

#uniform_store img:hover {
    transform: scale(1.05); /* Slight pop out */
    border-color: #3e1cb9;
}

#uniform_store li:hover {
    transform: translateX(10px); /* Slide effect */
    background-color: #2a2a2a !important;
}
/* Fix Google Translate Box to match your theme */
.goog-te-gadget-simple {
    background-color: #1a1a1a !important;
    border: 1px solid #3e1cb9 !important;
    padding: 3px 8px !important;
    border-radius: 8px !important;
    cursor: pointer;
}
.goog-te-gadget-simple span {
    color: #fff !important;
    font-size: 13px !important;
}
.goog-te-banner-frame.skiptranslate {
    display: none !important; /* Hides the top Google bar */
}
body {
    top: 0px !important; /* Prevents the page from shifting down */
}
</style>
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
</head>
<body>

<header id="menu">
    <div class="logo">Smart Campus <span>Solution</span></div>
    
    <nav aria-label="Main Navigation">
        <div id="google_translate_wrapper" style="display: inline-block; vertical-align: middle; margin-right: 15px;">
            <div id="google_translate_element"></div>
        </div>

        <button class="menu_button" id="home_button">Home</button>
        <button class="menu_button" id="Navigation_button">Campus Map</button>
        <button class="menu_button" id="Car_pool_button">Campus Cabs</button>
        <button class="menu_button" id="uniform_button">Campus Books</button>
        <button class="menu_button" id="Credits_button" style="display:none;">Credits</button>
    </nav>
</header>

<div id="auth_modal" class="display"> 
    <div style="background: #1a1a1a; padding: 30px; border-radius: 15px; border: 1px solid #3e1cb9; width: 300px; text-align: center;"> 
        <h2 id="auth_title" style="margin-top: 0; color: #3e1cb9;">Campus Login</h2> 
        <input type="text" id="auth_username" placeholder="Username (Unique)" style="width: 100%; padding: 10px; margin-bottom: 10px; background: #222; border: 1px solid #444; color: white; border-radius: 5px; box-sizing: border-box;"> 
        <input type="password" id="auth_password" placeholder="Password" style="width: 100%; padding: 10px; margin-bottom: 20px; background: #222; border: 1px solid #444; color: white; border-radius: 5px; box-sizing: border-box;"> 
        <button id="login_btn" class="req_button" style="width: 100%; padding: 10px; margin-bottom: 10px; background: #3e1cb9; color: white; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; width: 100%;">Login</button> 
        <button id="signup_btn" style="background: transparent; color: #888; border: none; cursor: pointer; text-decoration: underline; display: block; width: 100%;">New user? Sign Up</button> 
    </div> 
</div>
<div id="homepage">
    <div style="background: #111; padding: 10px 20px; border-bottom: 1px solid #3e1cb9; display: flex; align-items: center; justify-content: flex-end; gap: 15px;">
        <span style="color: #3e1cb9; font-size: 11px; font-weight: bold; letter-spacing: 1px;">‚ú® GOOGLE AI TRANSLATE:</span>
        <div id="google_translate_element"></div>
    </div>

    <div class="home-hero">
        <h1>Smart Campus <span>Solution</span></h1>
        <p>Streamlining campus life through integrated technology.</p>
    </div>

    <div class="home-content-grid">
        <section class="home-card wide">
            <h2>Welcome to Your Digital Campus</h2>
            <p>Our platform integrates essential campus utilities into one seamless interface. Whether you are a newcomer trying to find your way or a daily commuter looking to save on travel, we've got you covered.</p>
        </section>

        <section class="home-card">
            <div class="card-icon">üìç</div>
            <h3>Intelligent Navigation</h3>
            <ul>
                <li>Route finding between blocks & hostels</li>
                <li>Locate Campus Mart & Food Courts</li>
            </ul>
        </section>

        <section class="home-card">
            <div class="card-icon">üöó</div>
            <h3>Cab Pooling</h3>
            <ul>
                <li>Coordinate airport/city trips</li>
                <li>Find peers by date and time</li>
            </ul>
        </section>

        <section class="home-card wide" style="background: rgba(62, 28, 185, 0.05); border: 1px dashed #3e1cb9; text-align: center; margin-top: 40px;">
            <h2 style="color: #3e1cb9; margin-bottom: 5px;">Project Credits</h2>
            <p style="color: #888; margin-bottom: 20px;">Smart Campus Solution v1.0 | Team A</p>
            
            <p style="text-transform: uppercase; letter-spacing: 2px; font-size: 0.7em; color: #555;">Developed By</p>
            <h3 style="font-size: 1.8em; margin: 5px 0; color: white;">Shourya Shukla</h3>
            
            <p style="color: #bbb; max-width: 500px; margin: 15px auto; line-height: 1.6; font-size: 0.9rem;">
                Built with HTML, CSS, JS, and Firebase. Featuring **Google AI Neural Translation** for global accessibility.
            </p>
        </section>
    </div>
</div>
<div id="Map" >
    <div id="container">
    <div id="Map">
        <img src="map.png" id="map_image">
        <svg id="map_svg" viewBox="0 0 1481 839">
            <polygon points="712,732 896,604 975,695 827,798" data-title="Boys Hostel 1" data-desc="Boys hostel block number 1" data-a="7"><title>Boys Hostel 1</title></polygon>
            <polygon points="1207,343 1359,419 1430,345 1289,274" data-title="Boys Hostel 2" data-desc="Boys hostel block number 2" data-a="9"><title>Boys Hostel 2</title></polygon>
            <polygon points="1115,377 1069,413 980,363 1033,326" data-title="Campus Mart" data-desc="Campus market & shops" data-a="9"><title>Campus Mart</title></polygon>
            <polygon points="767,246 952,340 1060,281 884,185" data-title="Outdoor Sports" data-desc="Outdoor sports ground & courts" data-a="6"><title>Outdoor Sports</title></polygon>
            <polygon points="910,173 1073,262 1161,222 978,130" data-title="Indoor Sports" data-desc="Indoor sports arena and activities" data-a="6"><title>Indoor Sports</title></polygon>
            <polygon points="507,358 716,483 903,372 712,268" data-title="Park" data-desc="Central campus park" data-a="5"><title>Park</title></polygon>
            <polygon points="1,349 152,499 410,375 196,240" data-title="Girls Hostel 1" data-desc="Girls hostel block number 1" data-a="1"><title>Girls Hostel 1</title></polygon>
            <polygon points="226,203 462,349 666,249 410,120" data-title="Girls Hostel 2" data-desc="Girls hostel block number 2" data-a="2"><title>Girls Hostel 2</title></polygon>
            <polygon points="941,120 728,232 465,100 701,2" data-title="Workshops" data-desc="Engineering workshops & labs" data-a="3"><title>Workshops</title></polygon>
            <polygon points="1007,438 830,545 767,498 943,380" data-title="Food Court 1" data-desc="Campus food court 1" data-a="8"><title>Food Court 1</title></polygon>
            <polygon points="1211,308 1137,360 1064,314 1146,260" data-title="Food Court 2" data-desc="Campus food court 2" data-a="9"><title>Food Court 2</title></polygon>
            <polygon points="647,767 854,610 696,512 472,653" data-title="Academic Block 1" data-desc="Academic block building 1" data-a="7"><title>Academic Block 1</title></polygon>
            <polygon points="1036,432 876,576 1090,699 1291,563" data-title="Academic Block 2" data-desc="Academic block building 2" data-a="8"><title>Academic Block 2</title></polygon>
            <polygon points="660,501 435,629 253,499 460,383" data-title="Academic Offices" data-desc="Academic offices & teachers cabin" data-place="4"><title>Academic Offices and Teachers Cabin</title></polygon>
            <polyline style="stroke:#4285F4;stroke-width:1.2em;stroke-linecap:round;stroke-linejoin:round;" fill="none" id="navigation" points=""></polyline>
        </svg>
    </div> 
    <aside id="info_navigation_container">
        <div id="info_container"></div>      
        <div id="navigation_container">  
            <h1>Route Finder</h1>          
            <label>Start Point</label>
            <select id="start">
                <option value="7">Academic Block 1</option>
                <option value="8">Academic Block 2</option>
                <option value="4">Academic Offices</option>
                <option value="7">Boys Hostel 1</option>
                <option value="9">Boys Hostel 2</option>
                <option value="9">Campus Mart</option>
                <option value="5">Central Park</option>
                <option value="8">Food Court 1</option>
                <option value="9">Food Court 2</option>
                <option value="1">Girls Hostel 1</option>
                <option value="2">Girls Hostel 2</option>
                <option value="6">Sports (Indoor/Outdoor)</option>
                <option value="3">Workshops</option>
            </select>
            <label>Destination</label>
            <select id="_destination">
                <option value="7">Academic Block 1</option>
                <option value="8">Academic Block 2</option>
                <option value="4">Academic Offices</option>
                <option value="7">Boys Hostel 1</option>
                <option value="9">Boys Hostel 2</option>
                <option value="9">Campus Mart</option>
                <option value="5">Central Park</option>
                <option value="8">Food Court 1</option>
                <option value="9">Food Court 2</option>
                <option value="1">Girls Hostel 1</option>
                <option value="2">Girls Hostel 2</option>
                <option value="6">Sports (Indoor/Outdoor)</option>
                <option value="3">Workshops</option>
            </select>

            <button id="navigate">Start Navigation</button>
        </div>
    </aside>
</div>
</div>

<div id="CabPool">


    <h1 style="margin: 0; color: #3e1cb9; font-size: 22px;">CAB POOL</h1>
        <input id="filter_destination" placeholder="Filter by destination..." 
       style="margin:10px; padding:8px; width:200px;">
    <button id="open_modal" style="
        background-color: #3e1cb9; 
        color: white; 
        border: none; 
        padding: 12px 24px; 
        border-radius: 10px; 
        font-weight: bold; 
        cursor: pointer; 
        box-shadow: 0 4px 10px rgba(62, 28, 185, 0.3);
        font-size: 14px;
    " class="req_button" >
        Send Request
    </button>
</header>
    <div id="cabpool_page" >

    </div>
</div>
<div id="modal_carpool_container" class="hide_modal" style="padding: 40px;">
<div id="modal_carpool_box">
    <form id="carpool_request" style="padding: 20px;">
        <input type="text" id="name" placeholder="Enter your name"><br><br>
        <input type="date" id="date"><br><br>
<input id="time" type="time"><br><br>
<select id="gender">
    <option value="Male">Male</option>
      <option value="Female">Female</option>
      <option value="Others">Others</option>
</select>
<input type="text" id="pickup_point" placeholder="Enter your starting point"><br><br>
<input type="text" id="destination" placeholder="Enter your Destination"><br><br>
<input type="number" id="number_of_people" placeholder="Number of people you're lookining for"><br><br>
<input type="text" id="contact_details" placeholder="Contact Details"><br><br>
<input type="text" id="vehicle_details" placeholder="Vehicles details(name)"><br><br>
<textarea rows="4" cols="40" id="additional_information" placeholder="Enter additional information"></textarea> <br><br>
<button  style="
        background-color: #3e1cb9; 
        color: white; 
        border: none; 
        padding: 12px 24px; 
        border-radius: 10px; 
        font-weight: bold; 
        cursor: pointer; 
        box-shadow: 0 4px 10px rgba(62, 28, 185, 0.3);
        font-size: 14px;
    " class="req_button" id="submit_button">Submit</button>
<button class="menu_button" id="cancel_button" type="button">Cancel</button>
    </form>
</div>
</div>
<div id="uniform_store" class="hide">
    <div style="height: calc(100vh - 70px); width: 100%; overflow-y: auto; background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%); padding: 50px 5%; box-sizing: border-box;">
        
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
            <header style="font-size: 2.5rem; font-weight: 800; color: #3e1cb9; text-shadow: 0 0 15px rgba(62, 28, 185, 0.4); margin: 0;">
                CampusCart
            </header>
            <button id="open_book_modal" class="req_button" style="background-color: #3e1cb9; color: white; border: none; padding: 12px 24px; border-radius: 10px; font-weight: bold; cursor: pointer;">
                + Sell Your Book
            </button>
        </div>
        
        <div style="display: flex; flex-direction: row; justify-content: center; gap: 20px; margin-bottom: 50px; width: 100%;">
            <img src="library.png" style="width: 30%; height: 180px; object-fit: cover; border-radius: 15px; border: 2px solid #333;"> 
            <img src="book1.png" style="width: 30%; height: 180px; object-fit: cover; border-radius: 15px; border: 2px solid #333;">  
            <img src="book2.png" style="width: 30%; height: 180px; object-fit: cover; border-radius: 15px; border: 2px solid #333;"> 
        </div>

        <h2 style="color: #3e1cb9; margin-bottom: 25px; border-bottom: 1px solid #333; padding-bottom: 10px;">Available Books</h2>
        
        <div id="book_list_container" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; margin-bottom: 50px;">
            </div>

        <h2 style="color: #3e1cb9; margin-bottom: 20px;">Why Us</h2>
        <div style="display: flex; flex-direction: row; align-items: flex-start; gap: 30px; background: rgba(255, 255, 255, 0.05); padding: 30px; border-radius: 25px; border: 1px solid rgba(255,255,255,0.1);"> 
            <div style="flex: 2;">
                <ul style="list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; gap: 15px;">
                    <li style="padding: 15px; background: rgba(62, 28, 185, 0.1); border-radius: 12px; border-left: 5px solid #3e1cb9;">
                        <strong>Affordable Learning:</strong> Save money by buying directly from seniors.
                    </li>
                    <li style="padding: 15px; background: rgba(62, 28, 185, 0.1); border-radius: 12px; border-left: 5px solid #3e1cb9;">
                        <strong>Quick Exchange:</strong> Meet up on campus to exchange books instantly.
                    </li>
                </ul>
            </div> 
        </div>
    </div>
</div>

<div id="book_modal_container" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 5000; justify-content: center; align-items: center;">
    <div style="background: #1a1a1a; padding: 30px; border-radius: 15px; border: 1px solid #3e1cb9; width: 350px;">
        <h2 style="color: #3e1cb9; margin-top: 0;">Sell Your Book</h2>
        <form id="book_listing_form">
            <input type="text" id="store_book_name" placeholder="Book Title" required style="width:100%; padding:12px; margin-bottom:10px; background:#222; border:1px solid #444; color:white; border-radius:5px;">
            <input type="number" id="store_book_price" placeholder="Price (‚Çπ)" required style="width:100%; padding:12px; margin-bottom:10px; background:#222; border:1px solid #444; color:white; border-radius:5px;">
            <input type="text" id="store_contact" placeholder="Contact (WhatsApp)" required style="width:100%; padding:12px; margin-bottom:10px; background:#222; border:1px solid #444; color:white; border-radius:5px;">
            <textarea id="store_desc" placeholder="Condition details..." style="width:100%; padding:12px; margin-bottom:15px; background:#222; border:1px solid #444; color:white; border-radius:5px; height:80px;"></textarea>
            <button type="submit" class="req_button" style="width: 100%; background:#3e1cb9; color:white; padding:15px; border:none; border-radius:8px; cursor:pointer; font-weight:bold;">Post Now</button>
            <button type="button" id="close_book_modal" style="width: 100%; background:transparent; color:#888; border:none; margin-top:10px; cursor:pointer;">Cancel</button>
        </form>
    </div>
</div>
<div id="Credits_page" >
    <div class="simple-credits-card">
        <h1 style="color: #3e1cb9; margin-bottom: 5px;">Project Credits</h1>
        <p style="color: #888; margin-bottom: 30px;">Smart Campus Solution v1.0</p>

        <hr style="border: 0; border-top: 1px solid #333; margin-bottom: 30px;">

        <p style="text-transform: uppercase; letter-spacing: 2px; font-size: 0.8em; color: #555;">Developed By</p>
        <h2 style="font-size: 2em; margin: 10px 0;">Shourya Shukla</h2>
        
        <p style="color: #bbb; max-width: 400px; margin: 20px auto; line-height: 1.6;">
            A solo project focused on improving campus life through 
            integrated navigation and ride-sharing tools.
        </p>

        <div style="margin-top: 40px; color: #444; font-size: 0.9em;">
            Built with HTML, CSS, JS, and Firebase <br>Team Name-Team A
        </div>
    </div>
</div>
<script src="map.js"></script>
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
  import { 
    getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged 
  } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-auth.js";
  import { 
    getFirestore, collection, addDoc, serverTimestamp, query, orderBy, onSnapshot, doc, deleteDoc 
  } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyDVJmR-qeCRKbElxNA2deZGWsBgKCvxsyw",
    authDomain: "campus-f983a.firebaseapp.com",
    projectId: "campus-f983a",
    storageBucket: "campus-f983a.firebasestorage.app",
    messagingSenderId: "862672142688",
    appId: "1:862672142688:web:8cddfdf9b5d8cda8fbde05",
    measurementId: "G-G3458767N3"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db = getFirestore(app);

  // --- Auth Logic ---
  const authModal = document.getElementById("auth_modal");
  onAuthStateChanged(auth, (user) => {
    if (user) {
      authModal.classList.replace("display", "hide_modal");
    } else {
      authModal.classList.replace("hide_modal", "display");
    }
  });

  document.getElementById("signup_btn").onclick = async () => {
    try {
      await createUserWithEmailAndPassword(auth, document.getElementById("auth_username").value, document.getElementById("auth_password").value);
      alert("Success!");
    } catch (e) { alert(e.message); }
  };

  document.getElementById("login_btn").onclick = async () => {
    try {
      await signInWithEmailAndPassword(auth, document.getElementById("auth_username").value, document.getElementById("auth_password").value);
    } catch (e) { alert(e.message); }
  };

  // --- Navigation ---
 // --- Updated Navigation ---
  const navMap = {
    "home_button": "homepage",
    "Navigation_button": "Map",
    "Car_pool_button": "CabPool",
    "uniform_button": "uniform_store",
    "Credits_button": "homepage" // Points to home now
  };

  Object.keys(navMap).forEach(id => {
    document.getElementById(id).onclick = () => {
      Object.values(navMap).forEach(page => document.getElementById(page).classList.add("hide"));
      document.getElementById(navMap[id]).classList.remove("hide");
    };
  });

  // --- Cab Pool (With Fixed Search) ---
  const cabModal = document.getElementById("modal_carpool_container");
  const filterInput = document.getElementById("filter_destination");

  document.getElementById("open_modal").onclick = () => cabModal.classList.replace("hide_modal", "display");
  document.getElementById("cancel_button").onclick = () => cabModal.classList.replace("display", "hide_modal");

  document.getElementById("carpool_request").onsubmit = async (e) => {
    e.preventDefault();
    await addDoc(collection(db, "rides"), {
      Destination: document.getElementById("destination").value,
      PickupPoint: document.getElementById("pickup_point").value,
      Contact_details: document.getElementById("contact_details").value,
      UserEmail: auth.currentUser.email,
      Timestamp: serverTimestamp()
    });
    cabModal.classList.replace("display", "hide_modal");
    e.target.reset();
  };

  // Real-time listener that reacts to both DB changes AND search input
 const renderRides = (snap) => {
    const feed = document.getElementById("cabpool_page");
    feed.innerHTML = "";
    const filter = filterInput.value.toLowerCase();
    
    snap.forEach(d => {
      const data = d.data();
      // Search Filter Logic
      if (filter && !data.Destination.toLowerCase().includes(filter)) return;

      const card = document.createElement("div");
      card.style = "background:#1a1a1a; border:1px solid #333; margin:15px 0; padding:20px; border-radius:12px; border-left:6px solid #3e1cb9; color:white; position:relative; line-height:1.5;";
      
      // Rendering all your specific data fields
      card.innerHTML = `
        <div style="display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:10px;">
            <h3 style="margin:0; color:#3e1cb9;">üìç To: ${data.Destination}</h3>
            <span style="background:#3e1cb9; padding:2px 8px; border-radius:4px; font-size:0.8rem;">${data.Gender || 'Any'}</span>
        </div>
        
        <p style="margin:5px 0;"><strong>From:</strong> ${data.PickupPoint}</p>
        
        <div style="display:grid; grid-template-columns: 1fr 1fr; gap:10px; font-size:0.9rem; color:#bbb; margin:10px 0;">
            <span>üìÖ ${data.Date || 'N/A'}</span>
            <span>‚è∞ ${data.Time || 'N/A'}</span>
            <span>üë• Needs: ${data.Number_of_people || '1'}</span>
            <span>üöó ${data.Vehicle_details || 'No vehicle info'}</span>
        </div>

        <p style="background:rgba(255,255,255,0.05); padding:10px; border-radius:5px; font-style:italic; font-size:0.9rem; color:#ddd;">
            "${data.Additional_information || 'No additional notes.'}"
        </p>

        <div style="margin-top:10px; font-size:0.85rem; border-top:1px solid #333; padding-top:10px;">
            <strong>üìû Contact:</strong> ${data.Contact_details} <br>
            <small style="color:#666;">Posted by: ${data.UserEmail}</small>
        </div>
      `;

      // Show delete button only if current user is the owner
      if (auth.currentUser && data.UserEmail === auth.currentUser.email) {
        const del = document.createElement("button");
        del.innerHTML = "‚ùå"; 
        del.style = "position:absolute; top:10px; right:10px; background:none; border:none; color:red; cursor:pointer; font-size:1.2rem;";
        del.onclick = () => {
            if(confirm("Delete this request?")) deleteDoc(doc(db, "rides", d.id));
        };
        card.appendChild(del);
      }
      feed.appendChild(card);
    });
  };

  // --- Map the Form to the Database (Ensuring all fields match) ---
  document.getElementById("carpool_request").onsubmit = async (e) => {
    e.preventDefault();
    try {
      await addDoc(collection(db, "rides"), {
        Name: document.getElementById("name").value,
        Date: document.getElementById("date").value,
        Time: document.getElementById("time").value,
        Gender: document.getElementById("gender").value,
        PickupPoint: document.getElementById("pickup_point").value,
        Destination: document.getElementById("destination").value,
        Number_of_people: document.getElementById("number_of_people").value,
        Contact_details: document.getElementById("contact_details").value,
        Vehicle_details: document.getElementById("vehicle_details").value,
        Additional_information: document.getElementById("additional_information").value,
        UserEmail: auth.currentUser.email,
        Timestamp: serverTimestamp()
      });
      cabModal.classList.replace("display", "hide_modal");
      e.target.reset();
    } catch (err) {
      alert("Error posting request: " + err.message);
    }
  };

  let rideSnapCache = [];
  onSnapshot(query(collection(db, "rides"), orderBy("Timestamp", "desc")), (snap) => {
    rideSnapCache = snap;
    renderRides(snap);
  });

  filterInput.oninput = () => renderRides(rideSnapCache);

  // --- CampusCart (Book Store) ---
  
  const bookModal = document.getElementById("book_modal_container");
  document.getElementById("open_book_modal").onclick = () => { bookModal.style.display = "flex"; };
  document.getElementById("close_book_modal").onclick = () => { bookModal.style.display = "none"; };

  document.getElementById("book_listing_form").onsubmit = async (e) => {
    e.preventDefault();
    await addDoc(collection(db, "campus_books"), {
      title: document.getElementById("store_book_name").value,
      price: document.getElementById("store_book_price").value,
      contact: document.getElementById("store_contact").value,
      desc: document.getElementById("store_desc").value,
      seller: auth.currentUser.email,
      createdAt: serverTimestamp()
    });
    bookModal.style.display = "none";
    e.target.reset();
  };

  onSnapshot(query(collection(db, "campus_books"), orderBy("createdAt", "desc")), (snap) => {
    const container = document.getElementById("book_list_container");
    container.innerHTML = "";
    snap.forEach(d => {
      const book = d.data();
      const card = document.createElement("div");
      card.style = "background: rgba(255,255,255,0.05); border: 1px solid #333; padding: 20px; border-radius: 15px; position: relative; border-top: 4px solid #3e1cb9; color: white;";
      card.innerHTML = `
        <h3 style="color:#3e1cb9; margin:0;">${book.title}</h3>
        <p style="font-size: 1.2rem; font-weight: bold; margin: 10px 0;">‚Çπ${book.price}</p>
        <p style="color: #bbb; font-size: 0.9rem; margin-bottom: 15px;">${book.desc}</p>
        <div style="background:#222; padding:8px; border-radius:5px; font-size:0.85rem;">üìû <strong>${book.contact}</strong></div>
      `;

      if (auth.currentUser && book.seller === auth.currentUser.email) {
        const del = document.createElement("button");
        del.innerHTML = "üóëÔ∏è"; del.style = "position:absolute; top:10px; right:10px; background:none; border:none; color:#888; cursor:pointer;";
        del.onclick = () => deleteDoc(doc(db, "campus_books", d.id));
        card.appendChild(del);
      }
      container.appendChild(card);
    });
  });
</script>
<script type="text/javascript">
function googleTranslateElementInit() {
  new google.translate.TranslateElement({
    pageLanguage: 'en',
    includedLanguages: 'hi,en,es,fr,de,zh-CN', 
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE
  }, 'google_translate_element');
}
</script>
<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</body>
</html>